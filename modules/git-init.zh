#!/bin/zsh

git-init() {
  if [[ $# -lt 1 ]]; then
    echo "Usage: gi <reponame> [--public]"
    exit 1
  fi

  repo_name=$1
  shift

  visibility="--private"

  while [[ $# -gt 0 ]]; do
    case "$1" in
      --public)
        visibility=""
        ;;
      *)
        echo "Unknown option: $1"
        usage
        ;;
    esac
    shift
  done

  gh repo create "$repo_name" $visibility
  ghq-get "$repo_name"
}

alias gi="git-init"
